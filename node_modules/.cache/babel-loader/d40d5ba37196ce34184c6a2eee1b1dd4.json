{"ast":null,"code":"var _jsxFileName = \"/Users/HowardPu/Documents/academic/info/info 474/info474final/src/Components/SelectionSort.js\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport { GridStructure } from './GridStructure';\nexport class SelectionSort extends GridStructure {\n  constructor(props) {\n    // 1: Grid Width 30px\n    // 2: Grid Height 30px\n    // 3: nRow: 3\n    // 4: nCol: 10\n    // 5: padding: 0.05\n    // 6: margin: top: 20px, bottom: 20px, left: 20px, right: 20px\n    super(props, 30, 30, 3, 10, 0.05, {\n      top: 20,\n      bottom: 20,\n      left: 20,\n      right: 20\n    }, \"selection\");\n    this.svg = null;\n    this.indicatorInitial = {\n      row: 3,\n      col: 10\n    };\n    this.separatorInitial = {\n      row: 1,\n      col: 2\n    };\n    this.getInitialPosition = this.getInitialPosition.bind(this);\n    this.getAction = this.getAction.bind(this);\n    this.visulizeFind = this.visulizeFind.bind(this);\n    this.visulizeMove = this.visulizeMove.bind(this);\n    this.visulizeFindInverse = this.visulizeFindInverse.bind(this);\n    this.visulizeMoveInverse = this.visulizeMoveInverse.bind(this);\n    let initArray = [3, 2, 6, 2, 9, 8];\n    this.state = {\n      array: initArray,\n      actions: [],\n      step: 0,\n      speed: 300\n    };\n  }\n\n  getInitialPosition(array = this.state.array) {\n    let positionMap = {};\n\n    for (let i = 0; i < array.length; i++) {\n      positionMap[i] = {\n        row: 2,\n        col: i + 3\n      };\n    }\n\n    return positionMap;\n  }\n\n  componentDidMount() {\n    this.svg = this.getSVG();\n    this.drawBasicStructure();\n    let positionMap = this.getInitialPosition();\n\n    for (let i = 0; i < this.state.array.length; i++) {\n      let position = positionMap[i];\n      let num = this.state.array[i];\n      let id = \"insertion-\" + i;\n      this.visulizeBox(position.row, position.col, 1, 1, num, id);\n    }\n\n    this.drawSeparator(this.separatorInitial.row, this.separatorInitial.col);\n    this.drawIndicator(this.indicatorInitial.row, this.indicatorInitial.col, \"min\"); //this.drawHorizontalGrid()\n    //this.drawVerticalGrid();\n\n    this.setState({\n      actions: this.getAction()\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.step > prevState.step) {\n      let action = this.state.actions[this.state.step];\n\n      if (action.desc === \"Find the Lowest #\") {\n        this.visulizeFind(action.how);\n      } else if (action.desc === \"Move the Lowest # to the End of Sorted Array\") {\n        this.visulizeMove(action.how);\n      }\n    } else if (this.state.step < prevState.step) {\n      let action = this.state.actions[prevState.step];\n\n      if (action.desc === \"Find the Lowest #\") {\n        this.visulizeFindInverse(action.how);\n      } else if (action.desc === \"Move the Lowest # to the End of Sorted Array\") {\n        this.visulizeMoveInverse(action.how);\n      }\n    }\n  }\n\n  visulizeFind(how) {\n    let moveAction = how[0].split(\" \");\n    let id = moveAction[1];\n    let to = moveAction[3].split(\"-\");\n    this.move(id, to[0], to[1], 0.15, 0.05, () => {\n      let selectAction = how[1];\n      this.select(selectAction.split(\" \")[1], null, this.state.speed);\n    }, this.state.speed);\n  }\n\n  visulizeFindInverse(how) {\n    let selectAction = how[1];\n    this.deselect(selectAction.split(\" \")[1], () => {\n      let moveAction = how[0].split(\" \");\n      let from = moveAction[2].split(\"-\");\n      let indicatorID = moveAction[1];\n      this.move(indicatorID, from[0], from[1], 0.15, 0.05, null, this.state.speed);\n    }, this.state.speed);\n  }\n\n  visulizeMove(how) {\n    let indicatorMoveAction = how[0].split(\" \");\n    let indicatorID = indicatorMoveAction[1];\n    let indicatorTo = indicatorMoveAction[3].split(\"-\");\n    this.move(indicatorID, indicatorTo[0], indicatorTo[1], 0.15, 0.05, () => {\n      let elementStage1 = how[1].split(\" \");\n      let elementID = elementStage1[1];\n      let elementMove1 = elementStage1[3].split(\"-\");\n      this.move(elementID, elementMove1[0], elementMove1[1], 0.05, 0.05, () => {\n        this.rightShift(how[2], () => {\n          let separatorAction = how[3].split(\" \");\n          let sepID = separatorAction[1];\n          let newSepPosition = separatorAction[3].split(\"-\");\n          this.move(sepID, newSepPosition[0], newSepPosition[1], 0.5, 1, () => {\n            let elementStage2 = how[4].split(\" \");\n            let elementMove2 = elementStage2[3].split(\"-\");\n            this.move(elementID, elementMove2[0], elementMove2[1], 0.05, 0.05, () => {\n              let elementStage3 = how[5].split(\" \");\n              let elementMove3 = elementStage3[3].split(\"-\");\n              this.move(elementID, elementMove3[0], elementMove3[1], 0.05, 0.05, () => {\n                this.sorted(elementID, this.state.speed);\n              }, this.state.speed);\n            }, this.state.speed);\n          }, this.state.speed);\n        }, this.state.speed);\n      }, this.state.speed);\n    }, this.state.speed);\n  }\n\n  visulizeMoveInverse(how) {\n    let elementStage3 = how[5].split(\" \");\n    let elementID = elementStage3[1];\n    this.select(elementID, () => {\n      let elementFrom3 = elementStage3[2].split(\"-\");\n      this.move(elementID, elementFrom3[0], elementFrom3[1], 0.05, 0.05, () => {\n        let elementStage2 = how[4].split(\" \");\n        let elementFrom2 = elementStage2[2].split(\"-\");\n        this.move(elementID, elementFrom2[0], 0.05, 0.05, elementFrom2[1], () => {}, this.state.speed);\n      }, this.state.speed);\n    }, this.state.speed);\n    console.log(how);\n    console.log(elementStage3);\n  }\n\n  getAction(array = this.state.array) {\n    let actions = [{\n      desc: \"Start Sorting\",\n      how: []\n    }];\n    let arrayMap = [];\n    let positions = this.getInitialPosition();\n    let indexes = [];\n    let indicatorRow = this.indicatorInitial.row;\n    let sepPosition = JSON.parse(JSON.stringify(this.separatorInitial));\n\n    for (let i = 0; i < array.length; i++) {\n      indexes.push(i);\n      arrayMap.push({\n        number: array[i],\n        index: i\n      });\n    }\n\n    arrayMap = arrayMap.sort((a, b) => {\n      return a.number - b.number;\n    });\n\n    for (let i = 0; i < arrayMap.length; i++) {\n      let index = arrayMap[i].index;\n      let elementPosition = positions[index];\n      let indicatorFrom = indicatorRow + \"-\" + this.indicatorInitial.col;\n      let indicatorTo = indicatorRow + \"-\" + elementPosition.col;\n      let elementID = \"insertion-\" + index;\n      let elementInitial = elementPosition.row + \"-\" + elementPosition.col;\n      let findMin = {\n        desc: \"Find the Lowest #\",\n        how: [\"Move indicator \" + indicatorFrom + \" \" + indicatorTo, \"Select \" + elementID]\n      };\n      indexes[index] = null;\n      let shift = [];\n      let shiftPosition = null;\n\n      for (let i = 0; i < index; i++) {\n        if (indexes[i] !== null) {\n          let index = indexes[i];\n\n          if (shift.length === 0) {\n            shiftPosition = positions[index].row + \"-\" + positions[index].col;\n          }\n\n          positions[index].col++;\n          shift.push(\"insertion-\" + index);\n        }\n      }\n\n      let sepCur = sepPosition.row + \"-\" + sepPosition.col;\n      sepPosition.col++;\n      let elementStage1 = elementPosition.row + 1 + \"-\" + elementPosition.col;\n      let elementNewCol = sepPosition.col;\n      let elementStage2 = elementPosition.row + 1 + \"-\" + elementNewCol;\n      let elementStage3 = elementPosition.row + \"-\" + elementNewCol;\n      let sepNext = sepPosition.row + \"-\" + sepPosition.col;\n      let move = {\n        desc: \"Move the Lowest # to the End of Sorted Array\",\n        how: [\"Move indicator \" + indicatorTo + \" \" + indicatorFrom, \"Move \" + elementID + \" \" + elementInitial + \" \" + elementStage1, \"Shift \" + shift + \" \" + shiftPosition, \"Move separator \" + sepCur + \" \" + sepNext, \"Move \" + elementID + \" \" + elementStage1 + \" \" + elementStage2, \"Move \" + elementID + \" \" + elementStage2 + \" \" + elementStage3]\n      };\n      actions.push(findMin);\n      actions.push(move);\n    }\n\n    actions.push({\n      desc: \"Sort Finished\",\n      how: []\n    });\n    return actions;\n  }\n\n  render() {\n    let actionDisplay = \"Finding Algorithm\";\n\n    if (this.state.actions.length > 0) {\n      actionDisplay = this.state.actions[this.state.step].desc;\n    }\n\n    return React.createElement(\"div\", {\n      id: \"selection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, actionDisplay), React.createElement(\"button\", {\n      onClick: () => {\n        if (this.state.step < this.state.actions.length - 1) {\n          this.setState({\n            step: this.state.step + 1\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Next\"), React.createElement(\"button\", {\n      onClick: () => {\n        if (this.state.step > 0) {\n          this.setState({\n            step: this.state.step - 1\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Prev\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/HowardPu/Documents/academic/info/info 474/info474final/src/Components/SelectionSort.js"],"names":["React","Component","d3","GridStructure","SelectionSort","constructor","props","top","bottom","left","right","svg","indicatorInitial","row","col","separatorInitial","getInitialPosition","bind","getAction","visulizeFind","visulizeMove","visulizeFindInverse","visulizeMoveInverse","initArray","state","array","actions","step","speed","positionMap","i","length","componentDidMount","getSVG","drawBasicStructure","position","num","id","visulizeBox","drawSeparator","drawIndicator","setState","componentDidUpdate","prevProps","prevState","action","desc","how","moveAction","split","to","move","selectAction","select","deselect","from","indicatorID","indicatorMoveAction","indicatorTo","elementStage1","elementID","elementMove1","rightShift","separatorAction","sepID","newSepPosition","elementStage2","elementMove2","elementStage3","elementMove3","sorted","elementFrom3","elementFrom2","console","log","arrayMap","positions","indexes","indicatorRow","sepPosition","JSON","parse","stringify","push","number","index","sort","a","b","elementPosition","indicatorFrom","elementInitial","findMin","shift","shiftPosition","sepCur","elementNewCol","sepNext","render","actionDisplay"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport {GridStructure} from './GridStructure'\n\n\nexport class SelectionSort extends GridStructure {\n    constructor(props) {\n        // 1: Grid Width 30px\n        // 2: Grid Height 30px\n        // 3: nRow: 3\n        // 4: nCol: 10\n        // 5: padding: 0.05\n        // 6: margin: top: 20px, bottom: 20px, left: 20px, right: 20px\n\n\n        super(props, 30, 30, 3, 10, 0.05, {\n            top: 20, bottom: 20, left: 20, right: 20\n        }, \"selection\")\n\n        this.svg = null;\n\n        this.indicatorInitial = {\n            row: 3,\n            col: 10\n        }\n\n        this.separatorInitial = {\n            row: 1,\n            col: 2\n        }\n\n        this.getInitialPosition = this.getInitialPosition.bind(this);\n        this.getAction = this.getAction.bind(this);\n        this.visulizeFind = this.visulizeFind.bind(this);\n        this.visulizeMove = this.visulizeMove.bind(this);\n        this.visulizeFindInverse = this.visulizeFindInverse.bind(this);\n        this.visulizeMoveInverse = this.visulizeMoveInverse.bind(this);\n\n        let initArray = [3, 2, 6, 2, 9, 8]\n\n        this.state = {\n            array: initArray,\n            actions: [],\n            step: 0,\n            speed: 300    \n        }\n    }\n\n    getInitialPosition(array = this.state.array) {\n        let positionMap = {}\n        for (let i = 0; i < array.length; i++) {\n            positionMap[i] = {\n                row: 2,\n                col: i + 3\n            }\n        } \n        return(positionMap)\n    }\n\n    componentDidMount() {\n        this.svg = this.getSVG();\n        this.drawBasicStructure();\n\n        let positionMap = this.getInitialPosition();\n\n        for (let i = 0; i < this.state.array.length; i++) {\n            let position = positionMap[i]\n            let num = this.state.array[i]\n            let id = \"insertion-\" + i\n            this.visulizeBox(position.row, position.col, 1, 1, num, id)\n        }\n\n        this.drawSeparator(this.separatorInitial.row, this.separatorInitial.col);\n        this.drawIndicator(this.indicatorInitial.row, this.indicatorInitial.col, \"min\");\n        //this.drawHorizontalGrid()\n        //this.drawVerticalGrid();\n\n        this.setState({\n            actions: this.getAction()\n        })\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.step > prevState.step) {\n            let action = this.state.actions[this.state.step];\n            if (action.desc === \"Find the Lowest #\") {\n                this.visulizeFind(action.how)\n            } else if (action.desc === \"Move the Lowest # to the End of Sorted Array\") {\n                this.visulizeMove(action.how)\n            }\n        } else if (this.state.step < prevState.step) {\n            let action = this.state.actions[prevState.step];\n            if (action.desc === \"Find the Lowest #\") {\n                this.visulizeFindInverse(action.how);\n            } else if (action.desc === \"Move the Lowest # to the End of Sorted Array\") {\n                this.visulizeMoveInverse(action.how)\n            }\n        }   \n    }\n\n    visulizeFind(how) {\n        let moveAction = how[0].split(\" \")        \n\n        let id = moveAction[1]\n        let to = moveAction[3].split(\"-\")\n\n        this.move(id, to[0], to[1], 0.15, 0.05, () => {\n            let selectAction = how[1]\n            this.select(selectAction.split(\" \")[1], null, this.state.speed)\n        }, this.state.speed)\n    }\n\n    visulizeFindInverse(how) {\n        let selectAction = how[1]\n        this.deselect(selectAction.split(\" \")[1], () => {\n            let moveAction = how[0].split(\" \")\n            let from = moveAction[2].split(\"-\")\n            let indicatorID = moveAction[1];\n            this.move(indicatorID, from[0], from[1], 0.15, 0.05, null, this.state.speed)\n        },this.state.speed)\n    }\n\n    visulizeMove(how) {\n        let indicatorMoveAction = how[0].split(\" \");\n        let indicatorID = indicatorMoveAction[1];\n        let indicatorTo = indicatorMoveAction[3].split(\"-\")\n        this.move(indicatorID, indicatorTo[0], indicatorTo[1], 0.15, 0.05, () => {\n            let elementStage1 = how[1].split(\" \")\n            let elementID = elementStage1[1]\n            let elementMove1 = elementStage1[3].split(\"-\")\n            this.move(elementID, elementMove1[0], elementMove1[1], 0.05, 0.05, () => {\n                this.rightShift(how[2], () => {\n                    let separatorAction = how[3].split(\" \")\n                    let sepID = separatorAction[1]\n                    let newSepPosition = separatorAction[3].split(\"-\")\n                    this.move(sepID, newSepPosition[0], newSepPosition[1], 0.5, 1, () => {\n                        let elementStage2 = how[4].split(\" \")\n                        let elementMove2 = elementStage2[3].split(\"-\")\n                        this.move(elementID, elementMove2[0], elementMove2[1], 0.05, 0.05, () => {\n                            let elementStage3 = how[5].split(\" \")\n                            let elementMove3 = elementStage3[3].split(\"-\")\n                            this.move(elementID, elementMove3[0], elementMove3[1], 0.05, 0.05, () => {\n                                this.sorted(elementID, this.state.speed)\n                            }, this.state.speed)\n                        }, this.state.speed)\n                    }, this.state.speed)\n                }, this.state.speed)\n            }, this.state.speed)\n\n        }, this.state.speed)\n    }\n\n\n\n    visulizeMoveInverse(how) {\n        let elementStage3 = how[5].split(\" \")\n        let elementID = elementStage3[1]\n        this.select(elementID, () => {\n            let elementFrom3 = elementStage3[2].split(\"-\")\n            this.move(elementID, elementFrom3[0], elementFrom3[1], 0.05, 0.05, () => {\n                let elementStage2 = how[4].split(\" \")\n                let elementFrom2 = elementStage2[2].split(\"-\")\n                this.move(elementID, elementFrom2[0], 0.05, 0.05, elementFrom2[1], () => {\n\n                }, this.state.speed)\n            }, this.state.speed)\n        }, this.state.speed)\n        console.log(how)\n        console.log(elementStage3)\n    }\n\n    getAction(array = this.state.array) {\n        let actions = [{\n            desc: \"Start Sorting\",\n            how: []\n        }];\n        let arrayMap = [];\n        let positions = this.getInitialPosition();\n        let indexes = [];\n        let indicatorRow = this.indicatorInitial.row;\n\n        let sepPosition = JSON.parse(JSON.stringify(this.separatorInitial));\n\n        for (let i = 0; i < array.length; i++) {\n            indexes.push(i);\n            arrayMap.push({\n                number: array[i],\n                index: i\n            })\n        }\n\n        arrayMap = arrayMap.sort((a, b) => {\n            return a.number - b.number;\n        })\n        \n        for (let i = 0; i < arrayMap.length; i++) {\n            let index = arrayMap[i].index;\n            let elementPosition = positions[index]\n\n            let indicatorFrom = indicatorRow + \"-\" + this.indicatorInitial.col;\n            let indicatorTo = indicatorRow + \"-\" + elementPosition.col;\n\n            let elementID = \"insertion-\" + index\n            let elementInitial = elementPosition.row + \"-\" + elementPosition.col;\n\n            let findMin = {\n                desc: \"Find the Lowest #\",\n                how: [\"Move indicator \" + indicatorFrom + \" \" + indicatorTo, \n                        \"Select \" + elementID]\n            }\n\n            indexes[index] = null;\n\n            let shift = [];\n\n            let shiftPosition = null\n\n            for (let i = 0; i < index; i++) {\n                if (indexes[i] !== null) {\n                    let index = indexes[i];\n                    if (shift.length === 0) {\n                        shiftPosition = positions[index].row + \"-\" + positions[index].col\n                    }\n                    positions[index].col++;\n                    shift.push(\"insertion-\" + index);\n                }\n            }\n\n\n            let sepCur = sepPosition.row + \"-\" + sepPosition.col;\n            sepPosition.col++;\n\n            let elementStage1 = (elementPosition.row + 1) + \"-\" + elementPosition.col;\n            let elementNewCol = sepPosition.col;\n            let elementStage2 = (elementPosition.row + 1) + \"-\" + elementNewCol;\n            let elementStage3 = elementPosition.row + \"-\" + elementNewCol;\n\n            let sepNext = sepPosition.row + \"-\" + sepPosition.col;\n\n            let move = {\n                desc: \"Move the Lowest # to the End of Sorted Array\",\n                how:[\"Move indicator \" + indicatorTo + \" \" + indicatorFrom,\n                     \"Move \" + elementID + \" \" + elementInitial + \" \" + elementStage1,\n                     \"Shift \" + shift + \" \" + shiftPosition,\n                     \"Move separator \" + sepCur + \" \" + sepNext,\n                     \"Move \" + elementID + \" \" + elementStage1 + \" \" + elementStage2,\n                     \"Move \" + elementID + \" \" + elementStage2 + \" \" + elementStage3\n                ]\n            }\n            actions.push(findMin);\n            actions.push(move);\n        }\n\n        actions.push({\n            desc: \"Sort Finished\",\n            how: []\n        })\n\n        return(actions)\n    }\n\n    render() {\n\n        let actionDisplay = \"Finding Algorithm\"\n\n        if (this.state.actions.length > 0) {\n            actionDisplay = this.state.actions[this.state.step].desc;\n        }\n\n        return(\n            <div id=\"selection\">\n                <div>{actionDisplay}</div>\n                <button onClick={() => {\n                    if (this.state.step < this.state.actions.length - 1) {\n                        this.setState({\n                            step: this.state.step + 1\n                        })\n                    }\n                }} >Next</button>\n                <button onClick={() => {\n                    if (this.state.step > 0) {\n                        this.setState({\n                            step: this.state.step - 1\n                        })\n                    }\n                }} >Prev</button>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}