{"ast":null,"code":"var _jsxFileName = \"/Users/HowardPu/Documents/academic/info/info 474/info474final/src/Components/SelectionSort.js\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport { GridStructure } from './GridStructure';\nexport class SelectionSort extends GridStructure {\n  constructor(props) {\n    // 1: Grid Width 30px\n    // 2: Grid Height 30px\n    // 3: nRow: 3\n    // 4: nCol: 10\n    // 5: padding: 0.05\n    // 6: margin: top: 20px, bottom: 20px, left: 20px, right: 20px\n    super(props, 30, 30, 3, 10, 0.05, {\n      top: 20,\n      bottom: 20,\n      left: 20,\n      right: 20\n    }, \"selection\");\n    this.svg = null;\n    this.indicatorInitial = {\n      row: 3,\n      col: 10\n    };\n    this.separatorInitial = {\n      row: 1,\n      col: 1\n    };\n    this.getInitialPosition = this.getInitialPosition.bind(this);\n    this.getAction = this.getAction.bind(this);\n    this.visulizeFind = this.visulizeFind.bind(this);\n    this.visulizeMove = this.visulizeMove.bind(this);\n    this.visulizeFindInverse = this.visulizeFindInverse.bind(this);\n    this.visulizeMoveInverse = this.visulizeMoveInverse.bind(this);\n    this.initViz = this.initViz.bind(this);\n    this.clearViz = this.clearViz.bind(this);\n    let initArray = [3, 2, 6, 2, 9, 8];\n    this.state = {\n      array: initArray,\n      actions: [],\n      step: 0,\n      speed: 300,\n      setNewArray: false,\n      animation: null\n    };\n  }\n\n  getInitialPosition(array = this.state.array) {\n    let positionMap = {};\n\n    for (let i = 0; i < array.length; i++) {\n      positionMap[i] = {\n        row: 2,\n        col: i + 2\n      };\n    }\n\n    return positionMap;\n  }\n\n  componentDidMount() {\n    this.svg = this.getSVG();\n    this.drawBasicStructure();\n    this.initViz();\n    this.setState({\n      actions: this.getAction()\n    });\n  }\n\n  clearViz() {\n    this.svg.selectAll(\"g\").remove();\n  }\n\n  initViz() {\n    let positionMap = this.getInitialPosition();\n\n    for (let i = 0; i < this.state.array.length; i++) {\n      let position = positionMap[i];\n      let num = this.state.array[i];\n      let id = \"insertion-\" + i;\n      this.visulizeBox(position.row, position.col, 1, 1, num, id);\n    }\n\n    this.drawSeparator(this.separatorInitial.row, this.separatorInitial.col);\n    this.drawIndicator(this.indicatorInitial.row, this.indicatorInitial.col, \"min\");\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.setNewArray) {\n      this.clearViz();\n      this.initViz();\n      this.setState({\n        setNewArray: false\n      });\n    } else {\n      if (this.state.step > prevState.step) {\n        let action = this.state.actions[this.state.step];\n\n        if (action.desc === \"Find the Lowest #\") {\n          this.visulizeFind(action.how);\n        } else if (action.desc === \"Move the Lowest # to the End of Sorted Array\") {\n          this.visulizeMove(action.how);\n        }\n      } else if (this.state.step < prevState.step) {\n        let action = this.state.actions[prevState.step];\n\n        if (action.desc === \"Find the Lowest #\") {\n          this.visulizeFindInverse(action.how);\n        } else if (action.desc === \"Move the Lowest # to the End of Sorted Array\") {\n          this.visulizeMoveInverse(action.how);\n        }\n      }\n    }\n  }\n\n  visulizeFind(how) {\n    let moveAction = how[0].split(\" \");\n    let id = moveAction[1];\n    let to = moveAction[3].split(\"-\");\n    this.move(id, to[0], to[1], 0.15, 0.05, () => {\n      let selectAction = how[1];\n      this.select(selectAction.split(\" \")[1], null, this.state.speed);\n    }, this.state.speed);\n  }\n\n  visulizeFindInverse(how) {\n    let selectAction = how[1];\n    this.deselect(selectAction.split(\" \")[1], () => {\n      let moveAction = how[0].split(\" \");\n      let from = moveAction[2].split(\"-\");\n      let indicatorID = moveAction[1];\n      this.move(indicatorID, from[0], from[1], 0.15, 0.05, null, this.state.speed);\n    }, this.state.speed);\n  }\n\n  visulizeMove(how) {\n    let indicatorMoveAction = how[0].split(\" \");\n    let indicatorID = indicatorMoveAction[1];\n    let indicatorTo = indicatorMoveAction[3].split(\"-\");\n    this.move(indicatorID, indicatorTo[0], indicatorTo[1], 0.15, 0.05, () => {\n      let elementStage1 = how[1].split(\" \");\n      let elementID = elementStage1[1];\n      let elementMove1 = elementStage1[3].split(\"-\");\n      this.move(elementID, elementMove1[0], elementMove1[1], 0.05, 0.05, () => {\n        this.shift(how[2], () => {\n          let separatorAction = how[3].split(\" \");\n          let sepID = separatorAction[1];\n          let newSepPosition = separatorAction[3].split(\"-\");\n          this.move(sepID, newSepPosition[0], newSepPosition[1], 0.5, 1, () => {\n            let elementStage2 = how[4].split(\" \");\n            let elementMove2 = elementStage2[3].split(\"-\");\n            this.move(elementID, elementMove2[0], elementMove2[1], 0.05, 0.05, () => {\n              let elementStage3 = how[5].split(\" \");\n              let elementMove3 = elementStage3[3].split(\"-\");\n              this.move(elementID, elementMove3[0], elementMove3[1], 0.05, 0.05, () => {\n                this.sorted(elementID, this.state.speed);\n              }, this.state.speed);\n            }, this.state.speed);\n          }, this.state.speed);\n        }, this.state.speed, 1);\n      }, this.state.speed);\n    }, this.state.speed);\n  }\n\n  visulizeMoveInverse(how) {\n    let elementStage3 = how[5].split(\" \");\n    let elementID = elementStage3[1];\n    this.select(elementID, () => {\n      let elementFrom3 = elementStage3[2].split(\"-\");\n      this.move(elementID, elementFrom3[0], elementFrom3[1], 0.05, 0.05, () => {\n        let elementStage2 = how[4].split(\" \");\n        let elementFrom2 = elementStage2[2].split(\"-\");\n        this.move(elementID, elementFrom2[0], elementFrom2[1], 0.05, 0.05, () => {\n          let separatorAction = how[3].split(\" \");\n          let sepID = separatorAction[1];\n          let newSepPosition = separatorAction[2].split(\"-\");\n          this.move(sepID, newSepPosition[0], newSepPosition[1], 0.5, 1, () => {\n            this.shift(how[2], () => {\n              let elementStage1 = how[1].split(\" \");\n              let elementFrom1 = elementStage1[2].split(\"-\");\n              this.move(elementID, elementFrom1[0], elementFrom1[1], 0.05, 0.05, () => {\n                let indicatorMoveAction = how[0].split(\" \");\n                let indicatorID = indicatorMoveAction[1];\n                let indicatorFrom = indicatorMoveAction[2].split(\"-\");\n                this.move(indicatorID, indicatorFrom[0], indicatorFrom[1], 0.15, 0.05, null, this.state.speed);\n              }, this.state.speed);\n            }, this.state.speed, 0);\n          }, this.state.speed);\n        }, this.state.speed);\n      }, this.state.speed);\n    }, this.state.speed);\n  }\n\n  getAction(array = this.state.array) {\n    let actions = [{\n      desc: \"Start Sorting\",\n      how: []\n    }];\n    let arrayMap = [];\n    let positions = this.getInitialPosition(array);\n    let indexes = [];\n    let indicatorRow = this.indicatorInitial.row;\n    let sepPosition = JSON.parse(JSON.stringify(this.separatorInitial));\n\n    for (let i = 0; i < array.length; i++) {\n      indexes.push(i);\n      arrayMap.push({\n        number: array[i],\n        index: i\n      });\n    }\n\n    arrayMap = arrayMap.sort((a, b) => {\n      return a.number - b.number;\n    });\n\n    for (let i = 0; i < arrayMap.length; i++) {\n      let index = arrayMap[i].index;\n      let elementPosition = positions[index];\n      let indicatorFrom = indicatorRow + \"-\" + this.indicatorInitial.col;\n      let indicatorTo = indicatorRow + \"-\" + elementPosition.col;\n      let elementID = \"insertion-\" + index;\n      let elementInitial = elementPosition.row + \"-\" + elementPosition.col;\n      let findMin = {\n        desc: \"Find the Lowest #\",\n        how: [\"Move indicator \" + indicatorFrom + \" \" + indicatorTo, \"Select \" + elementID]\n      };\n      indexes[index] = null;\n      let shift = [];\n      let shiftPosition = null;\n\n      for (let i = 0; i < index; i++) {\n        if (indexes[i] !== null) {\n          let index = indexes[i];\n\n          if (shift.length === 0) {\n            shiftPosition = positions[index].row + \"-\" + positions[index].col;\n          }\n\n          positions[index].col++;\n          shift.push(\"insertion-\" + index);\n        }\n      }\n\n      let sepCur = sepPosition.row + \"-\" + sepPosition.col;\n      sepPosition.col++;\n      let elementStage1 = elementPosition.row + 1 + \"-\" + elementPosition.col;\n      let elementNewCol = sepPosition.col;\n      let elementStage2 = elementPosition.row + 1 + \"-\" + elementNewCol;\n      let elementStage3 = elementPosition.row + \"-\" + elementNewCol;\n      let sepNext = sepPosition.row + \"-\" + sepPosition.col;\n      let move = {\n        desc: \"Move the Lowest # to the End of Sorted Array\",\n        how: [\"Move indicator \" + indicatorTo + \" \" + indicatorFrom, \"Move \" + elementID + \" \" + elementInitial + \" \" + elementStage1, \"Shift \" + shift + \" \" + shiftPosition, \"Move separator \" + sepCur + \" \" + sepNext, \"Move \" + elementID + \" \" + elementStage1 + \" \" + elementStage2, \"Move \" + elementID + \" \" + elementStage2 + \" \" + elementStage3]\n      };\n      actions.push(findMin);\n      actions.push(move);\n    }\n\n    actions.push({\n      desc: \"Sort Finished\",\n      how: []\n    });\n    return actions;\n  }\n\n  render() {\n    let actionDisplay = \"Finding Algorithm\";\n\n    if (this.state.actions.length > 0) {\n      actionDisplay = this.state.actions[this.state.step].desc;\n    }\n\n    return React.createElement(\"div\", {\n      id: \"selection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, actionDisplay), React.createElement(\"button\", {\n      onClick: () => {\n        if (this.state.step < this.state.actions.length - 1) {\n          this.setState({\n            step: this.state.step + 1\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"Next\"), React.createElement(\"button\", {\n      onClick: () => {\n        if (this.state.step > 0) {\n          this.setState({\n            step: this.state.step - 1\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"Prev\"), React.createElement(\"button\", {\n      onClick: () => {\n        let newArray = this.generateRandomArray(5, 8);\n        let newAction = this.getAction(newArray);\n        this.setState({\n          array: newArray,\n          actions: newAction,\n          step: 0,\n          setNewArray: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"New Array\"), React.createElement(\"button\", {\n      onClick: () => {\n        if (!this.state.animation) {\n          this.setState({\n            animation: window.setInterval(() => {\n              this.setState({\n                step: this.state.step + 1\n              });\n            }, 800)\n          });\n        } else {\n          window.clearInterval(this.state.animation);\n          this.setState({\n            animation: null\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \"Run!\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/HowardPu/Documents/academic/info/info 474/info474final/src/Components/SelectionSort.js"],"names":["React","Component","d3","GridStructure","SelectionSort","constructor","props","top","bottom","left","right","svg","indicatorInitial","row","col","separatorInitial","getInitialPosition","bind","getAction","visulizeFind","visulizeMove","visulizeFindInverse","visulizeMoveInverse","initViz","clearViz","initArray","state","array","actions","step","speed","setNewArray","animation","positionMap","i","length","componentDidMount","getSVG","drawBasicStructure","setState","selectAll","remove","position","num","id","visulizeBox","drawSeparator","drawIndicator","componentDidUpdate","prevProps","prevState","action","desc","how","moveAction","split","to","move","selectAction","select","deselect","from","indicatorID","indicatorMoveAction","indicatorTo","elementStage1","elementID","elementMove1","shift","separatorAction","sepID","newSepPosition","elementStage2","elementMove2","elementStage3","elementMove3","sorted","elementFrom3","elementFrom2","elementFrom1","indicatorFrom","arrayMap","positions","indexes","indicatorRow","sepPosition","JSON","parse","stringify","push","number","index","sort","a","b","elementPosition","elementInitial","findMin","shiftPosition","sepCur","elementNewCol","sepNext","render","actionDisplay","newArray","generateRandomArray","newAction","window","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport {GridStructure} from './GridStructure'\n\n\nexport class SelectionSort extends GridStructure {\n    constructor(props) {\n        // 1: Grid Width 30px\n        // 2: Grid Height 30px\n        // 3: nRow: 3\n        // 4: nCol: 10\n        // 5: padding: 0.05\n        // 6: margin: top: 20px, bottom: 20px, left: 20px, right: 20px\n\n\n        super(props, 30, 30, 3, 10, 0.05, {\n            top: 20, bottom: 20, left: 20, right: 20\n        }, \"selection\")\n\n        this.svg = null;\n\n        this.indicatorInitial = {\n            row: 3,\n            col: 10\n        }\n\n        this.separatorInitial = {\n            row: 1,\n            col: 1\n        }\n\n        this.getInitialPosition = this.getInitialPosition.bind(this);\n        this.getAction = this.getAction.bind(this);\n        this.visulizeFind = this.visulizeFind.bind(this);\n        this.visulizeMove = this.visulizeMove.bind(this);\n        this.visulizeFindInverse = this.visulizeFindInverse.bind(this);\n        this.visulizeMoveInverse = this.visulizeMoveInverse.bind(this);\n        this.initViz = this.initViz.bind(this)\n        this.clearViz = this.clearViz.bind(this)\n\n        let initArray = [3, 2, 6, 2, 9, 8]\n\n        this.state = {\n            array: initArray,\n            actions: [],\n            step: 0,\n            speed: 300,\n            setNewArray: false,\n            animation: null\n        }\n    }\n\n    getInitialPosition(array = this.state.array) {\n        let positionMap = {}\n        for (let i = 0; i < array.length; i++) {\n            positionMap[i] = {\n                row: 2,\n                col: i + 2\n            }\n        } \n        return(positionMap)\n    }\n\n    componentDidMount() {\n        this.svg = this.getSVG();\n        this.drawBasicStructure();\n        this.initViz();\n        this.setState({\n            actions: this.getAction()\n        })\n    }\n\n    clearViz() {\n        this.svg.selectAll(\"g\").remove();\n    }\n\n    initViz() {\n        let positionMap = this.getInitialPosition();\n\n        for (let i = 0; i < this.state.array.length; i++) {\n            let position = positionMap[i]\n            let num = this.state.array[i]\n            let id = \"insertion-\" + i\n            this.visulizeBox(position.row, position.col, 1, 1, num, id)\n        }\n\n        this.drawSeparator(this.separatorInitial.row, this.separatorInitial.col);\n        this.drawIndicator(this.indicatorInitial.row, this.indicatorInitial.col, \"min\");\n    }\n\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if (this.state.setNewArray) {\n            this.clearViz();\n            this.initViz();\n            this.setState({\n                setNewArray: false\n            })\n        } else {\n            if (this.state.step > prevState.step) {\n                let action = this.state.actions[this.state.step];\n                if (action.desc === \"Find the Lowest #\") {\n                    this.visulizeFind(action.how)\n                } else if (action.desc === \"Move the Lowest # to the End of Sorted Array\") {\n                    this.visulizeMove(action.how)\n                }\n            } else if (this.state.step < prevState.step) {\n                let action = this.state.actions[prevState.step];\n                if (action.desc === \"Find the Lowest #\") {\n                    this.visulizeFindInverse(action.how);\n                } else if (action.desc === \"Move the Lowest # to the End of Sorted Array\") {\n                    this.visulizeMoveInverse(action.how)\n                }\n            }   \n        }\n    }\n\n    visulizeFind(how) {\n        let moveAction = how[0].split(\" \")        \n\n        let id = moveAction[1]\n        let to = moveAction[3].split(\"-\")\n\n        this.move(id, to[0], to[1], 0.15, 0.05, () => {\n            let selectAction = how[1]\n            this.select(selectAction.split(\" \")[1], null, this.state.speed)\n        }, this.state.speed)\n    }\n\n    visulizeFindInverse(how) {\n        let selectAction = how[1]\n        this.deselect(selectAction.split(\" \")[1], () => {\n            let moveAction = how[0].split(\" \")\n            let from = moveAction[2].split(\"-\")\n            let indicatorID = moveAction[1];\n            this.move(indicatorID, from[0], from[1], 0.15, 0.05, null, this.state.speed)\n        },this.state.speed)\n    }\n\n    visulizeMove(how) {\n        let indicatorMoveAction = how[0].split(\" \");\n        let indicatorID = indicatorMoveAction[1];\n        let indicatorTo = indicatorMoveAction[3].split(\"-\")\n        this.move(indicatorID, indicatorTo[0], indicatorTo[1], 0.15, 0.05, () => {\n            let elementStage1 = how[1].split(\" \")\n            let elementID = elementStage1[1]\n            let elementMove1 = elementStage1[3].split(\"-\")\n            this.move(elementID, elementMove1[0], elementMove1[1], 0.05, 0.05, () => {\n                this.shift(how[2], () => {\n                    let separatorAction = how[3].split(\" \")\n                    let sepID = separatorAction[1]\n                    let newSepPosition = separatorAction[3].split(\"-\")\n                    this.move(sepID, newSepPosition[0], newSepPosition[1], 0.5, 1, () => {\n                        let elementStage2 = how[4].split(\" \")\n                        let elementMove2 = elementStage2[3].split(\"-\")\n                        this.move(elementID, elementMove2[0], elementMove2[1], 0.05, 0.05, () => {\n                            let elementStage3 = how[5].split(\" \")\n                            let elementMove3 = elementStage3[3].split(\"-\")\n                            this.move(elementID, elementMove3[0], elementMove3[1], 0.05, 0.05, () => {\n                                this.sorted(elementID, this.state.speed)\n                            }, this.state.speed)\n                        }, this.state.speed)\n                    }, this.state.speed)\n                }, this.state.speed, 1)\n            }, this.state.speed)\n        }, this.state.speed)\n    }\n\n\n\n    visulizeMoveInverse(how) {\n        let elementStage3 = how[5].split(\" \")\n        let elementID = elementStage3[1]\n        this.select(elementID, () => {\n            let elementFrom3 = elementStage3[2].split(\"-\")\n            this.move(elementID, elementFrom3[0], elementFrom3[1], 0.05, 0.05, () => {\n                let elementStage2 = how[4].split(\" \")\n                let elementFrom2 = elementStage2[2].split(\"-\")\n                this.move(elementID, elementFrom2[0], elementFrom2[1], 0.05, 0.05, () => {\n                    let separatorAction = how[3].split(\" \")\n                    let sepID = separatorAction[1]\n                    let newSepPosition = separatorAction[2].split(\"-\") \n                    this.move(sepID, newSepPosition[0], newSepPosition[1], 0.5, 1, () => {\n                        this.shift(how[2], () => {\n                            let elementStage1 = how[1].split(\" \")\n                            let elementFrom1 = elementStage1[2].split(\"-\")\n                            this.move(elementID, elementFrom1[0], elementFrom1[1], 0.05, 0.05, () => {\n                                let indicatorMoveAction = how[0].split(\" \");\n                                let indicatorID = indicatorMoveAction[1];\n                                let indicatorFrom = indicatorMoveAction[2].split(\"-\") \n                                this.move(indicatorID, indicatorFrom[0], indicatorFrom[1], 0.15, 0.05, null, this.state.speed)\n                            }, this.state.speed)\n                        }, this.state.speed, 0)\n                    }, this.state.speed)\n                }, this.state.speed)\n            }, this.state.speed)\n        }, this.state.speed)\n    }\n\n    getAction(array = this.state.array) {\n        let actions = [{\n            desc: \"Start Sorting\",\n            how: []\n        }];\n        let arrayMap = [];\n        let positions = this.getInitialPosition(array);\n        let indexes = [];\n        let indicatorRow = this.indicatorInitial.row;\n\n        let sepPosition = JSON.parse(JSON.stringify(this.separatorInitial));\n\n        for (let i = 0; i < array.length; i++) {\n            indexes.push(i);\n            arrayMap.push({\n                number: array[i],\n                index: i\n            })\n        }\n\n        arrayMap = arrayMap.sort((a, b) => {\n            return a.number - b.number;\n        })\n        \n        for (let i = 0; i < arrayMap.length; i++) {\n            let index = arrayMap[i].index;\n            let elementPosition = positions[index]\n\n            let indicatorFrom = indicatorRow + \"-\" + this.indicatorInitial.col;\n            let indicatorTo = indicatorRow + \"-\" + elementPosition.col;\n\n            let elementID = \"insertion-\" + index\n            let elementInitial = elementPosition.row + \"-\" + elementPosition.col;\n\n            let findMin = {\n                desc: \"Find the Lowest #\",\n                how: [\"Move indicator \" + indicatorFrom + \" \" + indicatorTo, \n                        \"Select \" + elementID]\n            }\n\n            indexes[index] = null;\n\n            let shift = [];\n\n            let shiftPosition = null\n\n            for (let i = 0; i < index; i++) {\n                if (indexes[i] !== null) {\n                    let index = indexes[i];\n                    if (shift.length === 0) {\n                        shiftPosition = positions[index].row + \"-\" + positions[index].col\n                    }\n                    positions[index].col++;\n                    shift.push(\"insertion-\" + index);\n                }\n            }\n\n\n            let sepCur = sepPosition.row + \"-\" + sepPosition.col;\n            sepPosition.col++;\n\n            let elementStage1 = (elementPosition.row + 1) + \"-\" + elementPosition.col;\n            let elementNewCol = sepPosition.col;\n            let elementStage2 = (elementPosition.row + 1) + \"-\" + elementNewCol;\n            let elementStage3 = elementPosition.row + \"-\" + elementNewCol;\n\n            let sepNext = sepPosition.row + \"-\" + sepPosition.col;\n\n            let move = {\n                desc: \"Move the Lowest # to the End of Sorted Array\",\n                how:[\"Move indicator \" + indicatorTo + \" \" + indicatorFrom,\n                     \"Move \" + elementID + \" \" + elementInitial + \" \" + elementStage1,\n                     \"Shift \" + shift + \" \" + shiftPosition,\n                     \"Move separator \" + sepCur + \" \" + sepNext,\n                     \"Move \" + elementID + \" \" + elementStage1 + \" \" + elementStage2,\n                     \"Move \" + elementID + \" \" + elementStage2 + \" \" + elementStage3\n                ]\n            }\n            actions.push(findMin);\n            actions.push(move);\n        }\n\n        actions.push({\n            desc: \"Sort Finished\",\n            how: []\n        })\n\n        return(actions)\n    }\n\n    render() {\n        let actionDisplay = \"Finding Algorithm\"\n\n        if (this.state.actions.length > 0) {\n            actionDisplay = this.state.actions[this.state.step].desc;\n        }\n\n        return(\n            <div id=\"selection\">\n                <div>{actionDisplay}</div>\n                <button onClick={() => {\n                    if (this.state.step < this.state.actions.length - 1) {\n                        this.setState({\n                            step: this.state.step + 1\n                        })\n                    }\n                }} >Next</button>\n                <button onClick={() => {\n                    if (this.state.step > 0) {\n                        this.setState({\n                            step: this.state.step - 1\n                        })\n                    }\n                }} >Prev</button>\n\n                <button onClick={() => {\n                    let newArray = this.generateRandomArray(5, 8);\n                    let newAction = this.getAction(newArray);\n                    this.setState({\n                         array: newArray,\n                         actions: newAction,\n                         step: 0,\n                         setNewArray: true\n                    })\n                }}>New Array</button>\n\n                <button onClick={() => {\n\n                    if (!this.state.animation) {\n                        this.setState({\n                            animation: window.setInterval(() => {\n                                this.setState({\n                                    step: this.state.step + 1\n                                })    \n                            }, 800)\n                        })\n                    } else {\n                        window.clearInterval(this.state.animation);\n                        this.setState({\n                            animation: null\n                        })\n                    }\n                    \n                }}>Run!</button>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}