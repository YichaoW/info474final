{"ast":null,"code":"var _jsxFileName = \"/Users/wyc/Desktop/info474final/src/Components/Insertion.js\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport { GridStructure } from './GridStructure';\nimport { thisExpression } from '@babel/types';\nimport { Button, ButtonGroup } from 'react-bootstrap';\nexport class Insertion extends GridStructure {\n  constructor(props) {\n    super(props, 30, 30, 3.5, 10, 0.05, {\n      top: 20,\n      bottom: 20,\n      left: 200,\n      right: 20\n    }, \"insertion\");\n    this.svg = null;\n    this.getInitialPosition = this.getInitialPosition.bind(this);\n    this.getAction = this.getAction.bind(this);\n    this.visFirst = this.visFirst.bind(this);\n    this.vizBeginInsertion = this.vizBeginInsertion.bind(this);\n    this.vizFirstCompare = this.vizFirstCompare.bind(this);\n    this.vizFoundPlace = this.vizFoundPlace.bind(this);\n    this.vizInsert = this.vizInsert.bind(this);\n    this.vizWarn = this.vizWarn.bind(this);\n    this.vizNextInsertion = this.vizNextInsertion.bind(this);\n    this.vizCompareNearestTow = this.vizCompareNearestTow.bind(this);\n    this.visFirstInverse = this.visFirstInverse.bind(this);\n    this.vizBeginInsertionInverse = this.vizBeginInsertionInverse.bind(this);\n    this.vizFirstCompareInverse = this.vizFirstCompareInverse.bind(this);\n    this.vizFoundPlaceInverse = this.vizFoundPlaceInverse.bind(this);\n    this.vizInsertInverse = this.vizInsertInverse.bind(this);\n    this.vizWarnInverse = this.vizWarnInverse.bind(this);\n    this.vizNextInsertionInverse = this.vizNextInsertionInverse.bind(this);\n    this.vizCompareNearestTowInverse = this.vizCompareNearestTowInverse.bind(this);\n    this.separatorInitial = {\n      row: 1,\n      col: 1\n    };\n    this.indicatorInitial = {\n      row: 3,\n      col: 10\n    };\n    let initArray = [3, 2, 6, 2, 9, 8, 4];\n    let actions = this.getAction(initArray);\n    this.state = {\n      array: initArray,\n      actions: actions,\n      step: 0,\n      speed: 200,\n      setNewArray: false,\n      animation: false\n    };\n  }\n\n  componentDidMount() {\n    this.svg = this.getSVG();\n    this.drawBasicStructure();\n    this.initViz();\n    this.setState({\n      actions: this.getAction(this.state.array)\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.setNewArray) {\n      this.clearViz();\n      this.initViz();\n      this.setState({\n        setNewArray: false\n      });\n    } else {\n      if (prevState.step < this.state.step) {\n        let instruction = this.state.actions[this.state.step];\n\n        if (instruction.desc === \"Move First Item into Sorted Array\") {\n          this.visFirst(instruction.how);\n        } else if (instruction.desc === \"Begin Insertion\") {\n          this.vizBeginInsertion(instruction.how);\n        } else if (instruction.desc === \"Compare with the First\") {\n          this.vizFirstCompare(instruction.how);\n        } else if (instruction.desc === \"Yeah! We Found the Place\") {\n          this.vizFoundPlace(instruction.how);\n        } else if (instruction.desc === \"Inserting\") {\n          this.vizInsert(instruction.how);\n        } else if (instruction.desc === \"Seems Like This is Not the Place\") {\n          this.vizWarn(instruction.how);\n        } else if (instruction.desc === \"Go to the Next Insertion Point\") {\n          this.vizNextInsertion(instruction.how);\n        } else if (instruction.desc === \"Compare with the Nearest Two\") {\n          this.vizCompareNearestTow(instruction.how);\n        }\n      } else if (prevState.step > this.state.step) {\n        let prevInstruction = prevState.actions[prevState.step];\n\n        if (prevInstruction.desc === \"Move First Item into Sorted Array\") {\n          this.visFirstInverse(prevInstruction.how);\n        } else if (prevInstruction.desc === \"Begin Insertion\") {\n          this.vizBeginInsertionInverse(prevInstruction.how);\n        } else if (prevInstruction.desc === \"Compare with the First\") {\n          this.vizFirstCompareInverse(prevInstruction.how);\n        } else if (prevInstruction.desc === \"Yeah! We Found the Place\") {\n          this.vizFoundPlaceInverse(prevInstruction.how);\n        } else if (prevInstruction.desc === \"Inserting\") {\n          this.vizInsertInverse(prevInstruction.how);\n        } else if (prevInstruction.desc === \"Seems Like This is Not the Place\") {\n          this.vizWarnInverse(prevInstruction.how);\n        } else if (prevInstruction.desc === \"Go to the Next Insertion Point\") {\n          this.vizNextInsertionInverse(prevInstruction.how);\n        } else if (prevInstruction.desc === \"Compare with the Nearest Two\") {\n          this.vizCompareNearestTowInverse(prevInstruction.how);\n        }\n      }\n    }\n  }\n\n  visFirst(how) {\n    let sepMove = how[0].split(\" \");\n    let sepTo = sepMove[3].split(\"-\");\n    this.move(sepMove[1], +sepTo[0], +sepTo[1], 0.5, 1, () => {\n      let sortAct = how[1].split(\" \");\n      this.sorted(sortAct[1], this.state.speed);\n    }, this.state.speed);\n  }\n\n  visFirstInverse(how) {\n    let sepMove = how[0].split(\" \");\n    let sepFrom = sepMove[2].split(\"-\");\n    this.move(sepMove[1], +sepFrom[0], +sepFrom[1], 0.5, 1, () => {\n      let deselectAct = how[1].split(\" \");\n      this.deselect(deselectAct[1], null, this.state.speed);\n    }, this.state.speed);\n  }\n\n  vizBeginInsertion(how) {\n    let indicatorAct = how[0].split(\" \");\n    let indicatorTo = indicatorAct[3].split(\"-\");\n    this.move(indicatorAct[1], indicatorTo[0], indicatorTo[1], 0.15, 0.05, null, this.state.speed);\n    let moveAct = how[1].split(\" \");\n    let moveTo = moveAct[3].split(\"-\");\n    this.move(moveAct[1], moveTo[0], moveTo[1], 0.05, 0.05, null, this.state.speed);\n  }\n\n  vizBeginInsertionInverse(how) {\n    let indicatorAct = how[0].split(\" \");\n    let indicatorFrom = indicatorAct[2].split(\"-\");\n    this.move(indicatorAct[1], indicatorFrom[0], indicatorFrom[1], 0.15, 0.05, null, this.state.speed);\n    let moveAct = how[1].split(\" \");\n    let moveFrom = moveAct[2].split(\"-\");\n    this.move(moveAct[1], moveFrom[0], moveFrom[1], 0.05, 0.05, null, this.state.speed);\n  }\n\n  vizFirstCompare(how) {\n    let select1 = how[0].split(\" \");\n    let select2 = how[1].split(\" \");\n    this.select(select1[1], null, this.state.speed);\n    this.select(select2[1], null, this.state.speed);\n  }\n\n  vizFirstCompareInverse(how) {\n    let select1 = how[0].split(\" \");\n    let select2 = how[1].split(\" \");\n    this.sorted(select1[1], null, this.state.speed);\n    this.deselect(select2[1], null, this.state.speed);\n  }\n\n  vizCompareNearestTow(how) {\n    for (let i = 0; i < how.length; i++) {\n      this.select(how[i].split(\" \")[1], null, this.state.speed);\n    }\n  }\n\n  vizCompareNearestTowInverse(how) {\n    this.sorted(how[0].split(\" \")[1], null, this.state.speed);\n    this.sorted(how[1].split(\" \")[1], null, this.state.speed);\n    this.deselect(how[2].split(\" \")[1], null, this.state.speed);\n  }\n\n  vizFoundPlace(how) {\n    let sort = how[0].split(\" \");\n    this.sorted(sort[1], null, this.state.speed);\n  }\n\n  vizFoundPlaceInverse(how) {\n    let select = how[0].split(\" \");\n    this.select(select[1], null, this.state.speed);\n  }\n\n  vizInsert(how) {\n    let sepIndex = 0;\n    let moveIndex = 1;\n    let indicatorIndex = 2;\n\n    if (how.length > 3) {\n      let shift = how[0];\n      this.shift(shift, null, this.state.speed, 1);\n      sepIndex++;\n      moveIndex++;\n      indicatorIndex++;\n      let sortAct = how[4].split(\" \");\n      this.sorted(sortAct[1], null, this.state.speed);\n\n      if (how.length === 6) {\n        let sortAct2 = how[5].split(\" \");\n        this.sorted(sortAct2[1], null, this.state.speed);\n      }\n    }\n\n    let sepMove = how[sepIndex].split(\" \");\n    let sepTo = sepMove[3].split(\"-\");\n    this.move(sepMove[1], +sepTo[0], +sepTo[1], 0.5, 1, () => {\n      let itemMove = how[moveIndex].split(\" \");\n      let itemTo = itemMove[3].split(\"-\");\n      this.move(itemMove[1], itemTo[0], itemTo[1], 0.05, 0.05, () => {}, this.state.speed);\n      let indicatorMove = how[indicatorIndex].split(\" \");\n      let indicatorTo = indicatorMove[3].split(\"-\");\n      this.move(indicatorMove[1], indicatorTo[0], indicatorTo[1], 0.15, 0.05, null, this.state.speed);\n    }, this.state.speed);\n  }\n\n  vizInsertInverse(how) {\n    let sepIndex = 0;\n    let moveIndex = 1;\n    let indicatorIndex = 2;\n\n    if (how.length > 3) {\n      let shift = how[0];\n      this.shift(shift, null, this.state.speed, 0);\n      sepIndex++;\n      moveIndex++;\n      indicatorIndex++;\n      let selectAct = how[4].split(\" \");\n      this.select(selectAct[1], null, this.state.speed);\n\n      if (how.length === 6) {\n        let selectAct2 = how[5].split(\" \");\n        this.select(selectAct2[1], null, this.state.speed);\n      }\n    }\n\n    let sepMove = how[sepIndex].split(\" \");\n    let sepFrom = sepMove[2].split(\"-\");\n    this.move(sepMove[1], +sepFrom[0], +sepFrom[1], 0.5, 1, () => {\n      let itemMove = how[moveIndex].split(\" \");\n      let itemFrom = itemMove[2].split(\"-\");\n      this.move(itemMove[1], itemFrom[0], itemFrom[1], 0.05, 0.05, () => {}, this.state.speed);\n      let indicatorMove = how[indicatorIndex].split(\" \");\n      let indicatorFrom = indicatorMove[2].split(\"-\");\n      this.move(indicatorMove[1], indicatorFrom[0], indicatorFrom[1], 0.15, 0.05, null, this.state.speed);\n    }, this.state.speed);\n  }\n\n  vizWarn(how) {\n    let warn = how[0].split(\" \");\n    this.warn(warn[1], this.state.speed);\n  }\n\n  vizWarnInverse(how) {\n    let select = how[0].split(\" \");\n    this.select(select[1], null, this.state.speed);\n  }\n\n  vizNextInsertion(how) {\n    let itemMove = how[0].split(\" \");\n    let itemTo = itemMove[3].split(\"-\");\n    this.move(itemMove[1], itemTo[0], itemTo[1], 0.05, 0.05, null, this.state.speed);\n    let indicatorMove = how[1].split(\" \");\n    let indicatorTo = indicatorMove[3].split(\"-\");\n    this.move(indicatorMove[1], indicatorTo[0], indicatorTo[1], 0.15, 0.05, null, this.state.speed);\n    this.sorted(how[2].split(\" \")[1], null, this.state.speed);\n    this.deselect(itemMove[1], null, this.speed);\n\n    if (how.length > 4) {\n      this.sorted(how[4].split(\" \")[1], null, this.state.speed);\n    }\n  }\n\n  vizNextInsertionInverse(how) {\n    let itemMove = how[0].split(\" \");\n    let itemFrom = itemMove[2].split(\"-\");\n    this.move(itemMove[1], itemFrom[0], itemFrom[1], 0.05, 0.05, null, this.state.speed);\n    let indicatorMove = how[1].split(\" \");\n    let indicatorFrom = indicatorMove[2].split(\"-\");\n    this.move(indicatorMove[1], indicatorFrom[0], indicatorFrom[1], 0.15, 0.05, null, this.state.speed);\n    this.select(how[2].split(\" \")[1], null, this.state.speed);\n    this.warn(itemMove[1], null, this.speed);\n\n    if (how.length > 4) {\n      this.select(how[4].split(\" \")[1], null, this.state.speed);\n    }\n  }\n\n  clearViz() {\n    this.svg.selectAll(\"g\").remove();\n  }\n\n  initViz() {\n    let positionMap = this.getInitialPosition();\n\n    for (let i = 0; i < this.state.array.length; i++) {\n      let position = positionMap[i];\n      let num = this.state.array[i];\n      let id = \"insertion-\" + i;\n      this.visulizeBox(position.row, position.col, 1, 1, num, id);\n    }\n\n    this.drawSeparator(this.separatorInitial.row, this.separatorInitial.col, \"insertion\");\n    this.drawIndicator(this.indicatorInitial.row, this.indicatorInitial.col, null, \"insertion\");\n  }\n\n  getAction(array = this.state.array) {\n    let actions = [{\n      desc: \"Start Sorting\",\n      how: []\n    }];\n    let unsorted = [...array];\n    let sorted = [];\n    let positions = this.getInitialPosition(array);\n    let sepPosition = JSON.parse(JSON.stringify(this.separatorInitial));\n    let indicatorPosition = JSON.parse(JSON.stringify(this.indicatorInitial));\n    let initSep = sepPosition.row + \"-\" + sepPosition.col;\n    sepPosition.col++;\n    let newSep = sepPosition.row + \"-\" + sepPosition.col;\n    let firstElementCol = positions[0].col;\n    actions.push({\n      desc: \"Move First Item into Sorted Array\",\n      how: [\"Move separator-insertion \" + initSep + \" \" + newSep, \"Sort insertion-0\"]\n    });\n    sorted.push({\n      num: unsorted.shift(),\n      index: 0\n    });\n    let size = unsorted.length;\n\n    for (let i = 0; i < size; i++) {\n      let num = unsorted.shift();\n      let numID = i + 1;\n      let elementPosition = positions[numID];\n      let elementID = \"insertion-\" + numID;\n      let elementRow = elementPosition.row;\n      let elementCol = elementPosition.col;\n      indicatorPosition.row = 3;\n      indicatorPosition.col = firstElementCol - 0.5;\n      actions.push({\n        desc: \"Begin Insertion\",\n        how: [\"Move indicator-insertion \" + this.indicatorInitial.row + \"-\" + this.indicatorInitial.col + \" \" + 3 + \"-\" + (firstElementCol - 0.5), \"Move \" + elementID + \" \" + elementRow + \"-\" + elementCol + \" \" + 3.5 + \"-\" + (firstElementCol - 0.5)]\n      });\n      positions[numID].col = firstElementCol - 0.5;\n      positions[numID].row = 3.5;\n      let j = 0;\n      let hasSorted = false;\n\n      while (j < sorted.length && !hasSorted) {\n        let action1 = {};\n        let action2 = {};\n        let action3 = {};\n        let sortedIndex = sorted[j].index;\n        let sortPosition = positions[sortedIndex];\n        let sortedNum = sorted[j].num;\n\n        if (j === 0) {\n          action1.desc = \"Compare with the First\";\n          action1.how = [\"Select insertion-\" + sortedIndex, \"Select insertion-\" + numID];\n        } else {\n          action1.desc = \"Compare with the Nearest Two\";\n          action1.how = [\"Select insertion-\" + sortedIndex, \"Select insertion-\" + sorted[j - 1].index, \"Select insertion-\" + numID];\n        }\n\n        if (num < sortedNum) {\n          hasSorted = true;\n          action2.desc = \"Yeah! We Found the Place\";\n          action2.how = [\"Sort insertion-\" + numID];\n          action3.desc = \"Inserting\";\n          sepPosition.col++;\n          let shiftElements = sorted.slice(j, sorted.length);\n\n          for (let k = 0; k < shiftElements.length; k++) {\n            shiftElements[k] = \"insertion-\" + shiftElements[k].index;\n          }\n\n          let elementCurPosition = positions[numID].row + \"-\" + positions[numID].col;\n          action3.how = [\"Shift \" + shiftElements + \" \" + sortPosition.row + \"-\" + sortPosition.col, \"Move separator-insertion \" + sepPosition.row + \"-\" + (sepPosition.col - 1) + \" \" + sepPosition.row + \"-\" + sepPosition.col, \"Move \" + elementID + \" \" + elementCurPosition + \" \" + sortPosition.row + \"-\" + sortPosition.col, \"Move indicator-insertion \" + indicatorPosition.row + \"-\" + indicatorPosition.col + \" \" + this.indicatorInitial.row + \"-\" + this.indicatorInitial.col, \"Sort insertion-\" + sortedIndex];\n\n          if (j > 0) {\n            action3.how.push(\"Sort insertion-\" + sorted[j - 1].index);\n          }\n\n          indicatorPosition.col = this.indicatorInitial.col;\n          indicatorPosition.row = this.indicatorInitial.row;\n          positions[numID].row = sortPosition.row;\n          positions[numID].col = sortPosition.col;\n\n          for (let k = j; k < sorted.length; k++) {\n            positions[sorted[k].index].col++;\n          }\n\n          sorted.push({\n            num: num,\n            index: numID\n          });\n          sorted.sort((a, b) => {\n            return a.num - b.num;\n          });\n        } else {\n          action2.desc = \"Seems Like This is Not the Place\";\n          action2.how = [\"Warn insertion-\" + numID];\n          action3.desc = \"Go to the Next Insertion Point\";\n          let numPosition = positions[numID];\n          let numPositionFrom = numPosition.row + \"-\" + numPosition.col;\n          numPosition.col++;\n          let newPositionTo = numPosition.row + \"-\" + numPosition.col;\n          let indicatorFrom = indicatorPosition.row + \"-\" + indicatorPosition.col;\n          indicatorPosition.col++;\n          let indicatorTo = indicatorPosition.row + \"-\" + indicatorPosition.col;\n          action3.how = [\"Move \" + elementID + \" \" + numPositionFrom + \" \" + newPositionTo, \"Move indicator-insertion \" + indicatorFrom + \" \" + indicatorTo, \"Sort insertion-\" + sortedIndex, \"Deselect \" + elementID];\n\n          if (j > 0) {\n            action3.how.push(\"Sort insertion-\" + sorted[j - 1].index);\n          }\n        }\n\n        actions.push(action1);\n        actions.push(action2);\n        actions.push(action3);\n        j++;\n      }\n\n      if (!hasSorted) {\n        actions.push({\n          desc: \"Yeah! We Found the Place\",\n          how: [\"Sort \" + elementID]\n        });\n        actions.push({\n          desc: \"Inserting\",\n          how: [\"Move separator-insertion \" + sepPosition.row + \"-\" + sepPosition.col + \" \" + sepPosition.row + \"-\" + (sepPosition.col + 1), \"Move \" + elementID + \" \" + positions[numID].row + \"-\" + positions[numID].col + \" \" + (sepPosition.row + 1) + \"-\" + (sepPosition.col + 1), \"Move indicator-insertion \" + indicatorPosition.row + \"-\" + indicatorPosition.col + \" \" + this.indicatorInitial.row + \"-\" + this.indicatorInitial.col]\n        });\n        positions[numID].row = sepPosition.row + 1;\n        positions[numID].col = sepPosition.col + 1;\n        sepPosition.col++;\n        indicatorPosition.row = this.indicatorInitial.row;\n        indicatorPosition.col = this.indicatorInitial.col;\n        sorted.push({\n          num: num,\n          index: numID\n        });\n        sorted.sort((a, b) => {\n          return a.num < b.num;\n        });\n      }\n    }\n\n    actions.push({\n      desc: \"Insert Sort Finished\",\n      how: []\n    });\n    return actions;\n  }\n\n  getInitialPosition(array = this.state.array) {\n    let positionMap = {};\n\n    for (let i = 0; i < array.length; i++) {\n      positionMap[i] = {\n        row: 2,\n        col: i + 2\n      };\n    }\n\n    return positionMap;\n  }\n\n  render() {\n    let run = \"Play\";\n\n    if (this.state.animation) {\n      run = \"Pause\";\n    }\n\n    return React.createElement(\"div\", {\n      id: \"insertion\",\n      className: \"animationBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556\n      },\n      __self: this\n    }, this.state.actions[this.state.step].desc), React.createElement(ButtonGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => {\n        if (this.state.step > 0) {\n          this.setState({\n            step: this.state.step - 1\n          });\n        }\n      },\n      disabled: this.state.step === 0 || this.state.animation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560\n      },\n      __self: this\n    }, \"Prev\"), React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => {\n        if (this.state.step < this.state.actions.length - 1) {\n          this.setState({\n            step: this.state.step + 1\n          });\n        }\n      },\n      disabled: this.state.step === this.state.actions.length - 1 || this.state.animation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568\n      },\n      __self: this\n    }, \"Next\"), React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => {\n        let newArray = this.generateRandomArray(5, 8);\n        let newAction = this.getAction(newArray);\n        this.setState({\n          array: newArray,\n          actions: newAction,\n          step: 0,\n          setNewArray: true\n        });\n      },\n      disabled: this.state.animation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576\n      },\n      __self: this\n    }, \"Generate New Array\"), React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => {\n        if (!this.state.animation) {\n          let animationStep = () => {\n            this.setState({\n              animation: window.setInterval(() => {\n                if (this.state.step < this.state.actions.length - 1) {\n                  this.setState({\n                    step: this.state.step + 1\n                  });\n                } else {\n                  window.clearInterval(this.state.animation);\n                  this.setState({\n                    animation: false\n                  });\n                }\n              }, 1200)\n            });\n          };\n\n          if (this.state.step === this.state.actions.length - 1) {\n            this.setState({\n              step: 0\n            }, () => {\n              this.clearViz();\n              this.initViz();\n              animationStep();\n            });\n          } else {\n            animationStep();\n          }\n        } else {\n          window.clearInterval(this.state.animation);\n          this.setState({\n            animation: false\n          });\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587\n      },\n      __self: this\n    }, run)));\n  }\n\n}","map":{"version":3,"sources":["/Users/wyc/Desktop/info474final/src/Components/Insertion.js"],"names":["React","Component","d3","GridStructure","thisExpression","Button","ButtonGroup","Insertion","constructor","props","top","bottom","left","right","svg","getInitialPosition","bind","getAction","visFirst","vizBeginInsertion","vizFirstCompare","vizFoundPlace","vizInsert","vizWarn","vizNextInsertion","vizCompareNearestTow","visFirstInverse","vizBeginInsertionInverse","vizFirstCompareInverse","vizFoundPlaceInverse","vizInsertInverse","vizWarnInverse","vizNextInsertionInverse","vizCompareNearestTowInverse","separatorInitial","row","col","indicatorInitial","initArray","actions","state","array","step","speed","setNewArray","animation","componentDidMount","getSVG","drawBasicStructure","initViz","setState","componentDidUpdate","prevProps","prevState","clearViz","instruction","desc","how","prevInstruction","sepMove","split","sepTo","move","sortAct","sorted","sepFrom","deselectAct","deselect","indicatorAct","indicatorTo","moveAct","moveTo","indicatorFrom","moveFrom","select1","select2","select","i","length","sort","sepIndex","moveIndex","indicatorIndex","shift","sortAct2","itemMove","itemTo","indicatorMove","selectAct","selectAct2","itemFrom","warn","selectAll","remove","positionMap","position","num","id","visulizeBox","drawSeparator","drawIndicator","unsorted","positions","sepPosition","JSON","parse","stringify","indicatorPosition","initSep","newSep","firstElementCol","push","index","size","numID","elementPosition","elementID","elementRow","elementCol","j","hasSorted","action1","action2","action3","sortedIndex","sortPosition","sortedNum","shiftElements","slice","k","elementCurPosition","a","b","numPosition","numPositionFrom","newPositionTo","render","run","newArray","generateRandomArray","newAction","animationStep","window","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport {GridStructure} from './GridStructure'\nimport { thisExpression } from '@babel/types';\nimport {Button, ButtonGroup} from 'react-bootstrap';\n\n\nexport class Insertion extends GridStructure {\n    constructor(props) {\n        super(props, 30, 30, 3.5, 10, 0.05, {\n            top: 20, bottom: 20, left: 200, right: 20\n        }, \"insertion\")\n\n        this.svg = null;\n\n        this.getInitialPosition = this.getInitialPosition.bind(this);\n        this.getAction = this.getAction.bind(this);\n        this.visFirst = this.visFirst.bind(this)\n        this.vizBeginInsertion = this.vizBeginInsertion.bind(this)\n        this.vizFirstCompare = this.vizFirstCompare.bind(this)\n        this.vizFoundPlace = this.vizFoundPlace.bind(this)\n        this.vizInsert = this.vizInsert.bind(this)\n        this.vizWarn = this.vizWarn.bind(this)\n        this.vizNextInsertion = this.vizNextInsertion.bind(this)\n        this.vizCompareNearestTow = this.vizCompareNearestTow.bind(this)\n\n        this.visFirstInverse = this.visFirstInverse.bind(this)\n        this.vizBeginInsertionInverse = this.vizBeginInsertionInverse.bind(this)\n        this.vizFirstCompareInverse = this.vizFirstCompareInverse.bind(this)\n        this.vizFoundPlaceInverse = this.vizFoundPlaceInverse.bind(this)\n        this.vizInsertInverse = this.vizInsertInverse.bind(this)\n        this.vizWarnInverse = this.vizWarnInverse.bind(this)\n        this.vizNextInsertionInverse = this.vizNextInsertionInverse.bind(this)\n        this.vizCompareNearestTowInverse = this.vizCompareNearestTowInverse.bind(this)\n\n        this.separatorInitial = {\n            row: 1,\n            col: 1\n        }\n\n        this.indicatorInitial = {\n            row: 3,\n            col: 10\n        }\n\n        let initArray = [3, 2, 6, 2, 9, 8, 4]\n\n        let actions = this.getAction(initArray)\n\n        this.state = {\n            array: initArray,\n            actions: actions,\n            step: 0,\n            speed: 200,\n            setNewArray: false,\n            animation: false\n        }\n    }\n\n\n    componentDidMount() {\n        this.svg = this.getSVG();\n        this.drawBasicStructure();\n        this.initViz();\n        this.setState({\n            actions: this.getAction(this.state.array)\n        })\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if (this.state.setNewArray) {\n            this.clearViz();\n            this.initViz();\n            this.setState({\n                setNewArray: false\n            })\n        } else {\n            if (prevState.step < this.state.step) {\n                let instruction = this.state.actions[this.state.step]\n                if (instruction.desc === \"Move First Item into Sorted Array\") {\n                    this.visFirst(instruction.how)\n                } else if (instruction.desc === \"Begin Insertion\") {\n                    this.vizBeginInsertion(instruction.how)\n                } else if (instruction.desc === \"Compare with the First\") {\n                    this.vizFirstCompare(instruction.how)\n                } else if (instruction.desc === \"Yeah! We Found the Place\") {\n                    this.vizFoundPlace(instruction.how)\n                } else if (instruction.desc === \"Inserting\") {\n                    this.vizInsert(instruction.how)\n                } else if (instruction.desc === \"Seems Like This is Not the Place\") {\n                    this.vizWarn(instruction.how)\n                } else if (instruction.desc === \"Go to the Next Insertion Point\") {\n                    this.vizNextInsertion(instruction.how)\n                } else if (instruction.desc === \"Compare with the Nearest Two\") {\n                    this.vizCompareNearestTow(instruction.how)\n                }\n            } else if (prevState.step > this.state.step) {\n                let prevInstruction = prevState.actions[prevState.step]\n                if (prevInstruction.desc === \"Move First Item into Sorted Array\") {\n                    this.visFirstInverse(prevInstruction.how)\n                } else if (prevInstruction.desc === \"Begin Insertion\") {\n                    this.vizBeginInsertionInverse(prevInstruction.how)\n                } else if (prevInstruction.desc === \"Compare with the First\") {\n                    this.vizFirstCompareInverse(prevInstruction.how)\n                } else if (prevInstruction.desc === \"Yeah! We Found the Place\") {\n                    this.vizFoundPlaceInverse(prevInstruction.how)\n                } else if (prevInstruction.desc === \"Inserting\") {\n                    this.vizInsertInverse(prevInstruction.how)\n                } else if (prevInstruction.desc === \"Seems Like This is Not the Place\") {\n                    this.vizWarnInverse(prevInstruction.how)\n                } else if (prevInstruction.desc === \"Go to the Next Insertion Point\") {\n                    this.vizNextInsertionInverse(prevInstruction.how)\n                } else if (prevInstruction.desc === \"Compare with the Nearest Two\") {\n                    this.vizCompareNearestTowInverse(prevInstruction.how)\n                }\n            }\n        } \n    }\n\n    visFirst(how) {\n        let sepMove = how[0].split(\" \")\n        let sepTo = sepMove[3].split(\"-\")\n        this.move(sepMove[1], +sepTo[0], +sepTo[1], 0.5, 1, () => {\n            let sortAct = how[1].split(\" \")\n            this.sorted(sortAct[1], this.state.speed)\n        }, this.state.speed)\n    }\n\n    visFirstInverse(how) {\n        let sepMove = how[0].split(\" \")\n        let sepFrom = sepMove[2].split(\"-\")\n        this.move(sepMove[1], +sepFrom[0], +sepFrom[1], 0.5, 1, () => {\n            let deselectAct = how[1].split(\" \")\n            this.deselect(deselectAct[1], null, this.state.speed)\n        }, this.state.speed)\n    }\n\n    vizBeginInsertion(how) {\n        let indicatorAct = how[0].split(\" \")\n        let indicatorTo = indicatorAct[3].split(\"-\")\n        this.move(indicatorAct[1], indicatorTo[0], indicatorTo[1], 0.15, 0.05, null, this.state.speed)\n\n        let moveAct = how[1].split(\" \")\n        let moveTo = moveAct[3].split(\"-\")\n        this.move(moveAct[1], moveTo[0], moveTo[1], 0.05, 0.05, null, this.state.speed)\n    }\n\n    vizBeginInsertionInverse(how) {\n        let indicatorAct = how[0].split(\" \")\n        let indicatorFrom = indicatorAct[2].split(\"-\")\n        this.move(indicatorAct[1], indicatorFrom[0], indicatorFrom[1], \n                    0.15, 0.05, null, this.state.speed)\n\n        let moveAct = how[1].split(\" \")\n        let moveFrom = moveAct[2].split(\"-\")\n        this.move(moveAct[1], moveFrom[0], moveFrom[1], 0.05, 0.05, null, this.state.speed)\n    }\n\n    vizFirstCompare(how) {\n        let select1 = how[0].split(\" \")\n        let select2 = how[1].split(\" \")\n\n        this.select(select1[1], null, this.state.speed)\n        this.select(select2[1], null, this.state.speed)\n    }\n\n    vizFirstCompareInverse(how) {\n        let select1 = how[0].split(\" \")\n        let select2 = how[1].split(\" \")\n\n        this.sorted(select1[1], null, this.state.speed)\n        this.deselect(select2[1], null, this.state.speed)\n    }\n\n    vizCompareNearestTow(how) {\n        for (let i = 0; i < how.length; i++) {\n            this.select(how[i].split(\" \")[1], null, this.state.speed)\n        }\n    }\n\n    vizCompareNearestTowInverse(how) {\n        this.sorted(how[0].split(\" \")[1], null, this.state.speed)\n        this.sorted(how[1].split(\" \")[1], null, this.state.speed)\n        this.deselect(how[2].split(\" \")[1], null, this.state.speed)\n    }\n\n    vizFoundPlace(how) {\n        let sort = how[0].split(\" \")\n        this.sorted(sort[1], null, this.state.speed)\n    }\n\n    vizFoundPlaceInverse(how) {\n        let select = how[0].split(\" \")\n        this.select(select[1], null, this.state.speed)\n    }\n\n    vizInsert(how) {\n        let sepIndex = 0;\n        let moveIndex = 1;\n        let indicatorIndex = 2;\n\n        if (how.length > 3) {\n            let shift = how[0]\n            this.shift(shift, null, this.state.speed, 1)  \n            sepIndex++;\n            moveIndex++;\n            indicatorIndex++;\n            let sortAct = how[4].split(\" \")\n            this.sorted(sortAct[1], null, this.state.speed)\n            if (how.length === 6) {\n                let sortAct2 = how[5].split(\" \")\n                this.sorted(sortAct2[1], null, this.state.speed)\n            }\n        }\n\n        let sepMove = how[sepIndex].split(\" \")\n        let sepTo = sepMove[3].split(\"-\")\n        this.move(sepMove[1], +sepTo[0], +sepTo[1], 0.5, 1, () => {\n\n            let itemMove = how[moveIndex].split(\" \")\n            let itemTo = itemMove[3].split(\"-\")\n            this.move(itemMove[1], itemTo[0], itemTo[1], 0.05, 0.05, () => {\n            }, this.state.speed)\n            \n            let indicatorMove = how[indicatorIndex].split(\" \")\n            let indicatorTo = indicatorMove[3].split(\"-\")\n            this.move(indicatorMove[1], indicatorTo[0], indicatorTo[1], 0.15, 0.05, null, this.state.speed)\n        }, this.state.speed)\n    }\n\n    vizInsertInverse(how) {\n        let sepIndex = 0;\n        let moveIndex = 1;\n        let indicatorIndex = 2;\n\n        if (how.length > 3) {\n            let shift = how[0]\n            this.shift(shift, null, this.state.speed, 0)  \n            sepIndex++;\n            moveIndex++;\n            indicatorIndex++;\n            let selectAct = how[4].split(\" \")\n            this.select(selectAct[1], null, this.state.speed)\n            if (how.length === 6) {\n                let selectAct2 = how[5].split(\" \")\n                this.select(selectAct2[1], null, this.state.speed)\n            }\n        }\n\n        let sepMove = how[sepIndex].split(\" \")\n        let sepFrom = sepMove[2].split(\"-\")\n        this.move(sepMove[1], +sepFrom[0], +sepFrom[1], 0.5, 1, () => {\n\n            let itemMove = how[moveIndex].split(\" \")\n            let itemFrom = itemMove[2].split(\"-\")\n            this.move(itemMove[1], itemFrom[0], itemFrom[1], 0.05, 0.05, () => {\n            }, this.state.speed)\n            \n            let indicatorMove = how[indicatorIndex].split(\" \")\n            let indicatorFrom = indicatorMove[2].split(\"-\")\n            this.move(indicatorMove[1], indicatorFrom[0], indicatorFrom[1], 0.15, 0.05, null, this.state.speed)\n        }, this.state.speed)\n    }\n\n    vizWarn(how) {\n        let warn = how[0].split(\" \")\n        this.warn(warn[1], this.state.speed)\n    }\n\n    vizWarnInverse(how) {\n        let select = how[0].split(\" \")\n        this.select(select[1], null, this.state.speed)\n    }\n\n    vizNextInsertion(how) {\n        let itemMove = how[0].split(\" \")\n        let itemTo = itemMove[3].split(\"-\")\n        this.move(itemMove[1], itemTo[0], itemTo[1], 0.05, 0.05, null, this.state.speed)\n\n        let indicatorMove = how[1].split(\" \")\n        let indicatorTo = indicatorMove[3].split(\"-\")\n        this.move(indicatorMove[1], indicatorTo[0], indicatorTo[1], 0.15, 0.05, null, this.state.speed)\n        this.sorted(how[2].split(\" \")[1], null, this.state.speed)\n        \n        this.deselect(itemMove[1], null, this.speed)\n        if (how.length > 4) {\n            this.sorted(how[4].split(\" \")[1], null, this.state.speed)\n        }\n    }\n\n    vizNextInsertionInverse(how) {\n        let itemMove = how[0].split(\" \")\n        let itemFrom = itemMove[2].split(\"-\")\n        this.move(itemMove[1], itemFrom[0], itemFrom[1], 0.05, 0.05, null, this.state.speed)\n\n        let indicatorMove = how[1].split(\" \")\n        let indicatorFrom = indicatorMove[2].split(\"-\")\n        this.move(indicatorMove[1], indicatorFrom[0], indicatorFrom[1], 0.15, 0.05, null, this.state.speed)\n        \n        this.select(how[2].split(\" \")[1], null, this.state.speed)\n        \n        this.warn(itemMove[1], null, this.speed)\n        if (how.length > 4) {\n            this.select(how[4].split(\" \")[1], null, this.state.speed)\n        }\n    }\n\n    clearViz() {\n        this.svg.selectAll(\"g\").remove();\n    }\n\n    initViz() {\n        let positionMap = this.getInitialPosition();\n\n        for (let i = 0; i < this.state.array.length; i++) {\n            let position = positionMap[i]\n            let num = this.state.array[i]\n            let id = \"insertion-\" + i\n            this.visulizeBox(position.row, position.col, 1, 1, num, id)\n        }\n\n        this.drawSeparator(this.separatorInitial.row, this.separatorInitial.col, \"insertion\");\n        this.drawIndicator(this.indicatorInitial.row, this.indicatorInitial.col, null, \"insertion\");\n    }\n\n    getAction(array = this.state.array) {\n        let actions = [{\n            desc: \"Start Sorting\",\n            how: []\n        }]\n\n        let unsorted = [...array];\n        let sorted = [];\n\n\n        let positions = this.getInitialPosition(array);\n        let sepPosition = JSON.parse(JSON.stringify(this.separatorInitial));\n        let indicatorPosition = JSON.parse(JSON.stringify(this.indicatorInitial));\n\n        let initSep = sepPosition.row + \"-\" + sepPosition.col\n\n        sepPosition.col++;\n\n        let newSep = sepPosition.row + \"-\" + sepPosition.col\n        let firstElementCol = positions[0].col\n\n        actions.push({\n            desc: \"Move First Item into Sorted Array\",\n            how: [\n                \"Move separator-insertion \" + initSep + \" \" + newSep,\n                \"Sort insertion-0\" \n            ]\n        })\n\n        sorted.push({\n            num: unsorted.shift(),\n            index: 0\n        });\n\n        let size = unsorted.length\n        for (let i = 0; i < size; i++) {\n            let num = unsorted.shift();\n            let numID = i + 1;\n            let elementPosition = positions[numID]\n            let elementID = \"insertion-\" + (numID);\n\n            let elementRow = elementPosition.row;\n            let elementCol = elementPosition.col;\n\n            indicatorPosition.row = 3;\n            indicatorPosition.col = (firstElementCol - 0.5);\n            actions.push({\n                desc: \"Begin Insertion\",\n                how: [\n                    \"Move indicator-insertion \" + this.indicatorInitial.row + \"-\" + this.indicatorInitial.col + \" \"\n                                                + 3 + \"-\" + (firstElementCol - 0.5),\n                    \"Move \" + elementID + \" \" + elementRow + \"-\" + elementCol + \" \" +  3.5 + \"-\" + (firstElementCol - 0.5)\n                ]\n            })\n\n            positions[numID].col = (firstElementCol - 0.5)\n            positions[numID].row = 3.5\n\n\n            let j = 0;\n            let hasSorted = false;\n            while(j < sorted.length && !hasSorted) {\n                let action1 = {};\n                let action2 = {};\n                let action3 = {};\n\n                let sortedIndex = sorted[j].index;\n                let sortPosition = positions[sortedIndex]\n                let sortedNum = sorted[j].num;\n\n                if (j === 0) {\n                    action1.desc = \"Compare with the First\"\n                    action1.how = [\n                        \"Select insertion-\" + sortedIndex,\n                        \"Select insertion-\" + numID\n                    ]\n                } else {\n                    action1.desc = \"Compare with the Nearest Two\"\n                    action1.how = [\n                        \"Select insertion-\" + sortedIndex,\n                        \"Select insertion-\" + sorted[j - 1].index,\n                        \"Select insertion-\" + numID\n                    ]   \n                }\n\n                if (num < sortedNum) {\n                    hasSorted = true;\n                    action2.desc = \"Yeah! We Found the Place\"\n                    action2.how = [\"Sort insertion-\" + numID]\n                    action3.desc = \"Inserting\"\n                    sepPosition.col++;\n\n\n                    let shiftElements = sorted.slice(j, sorted.length);\n                    \n                    for (let k = 0; k < shiftElements.length; k++) {\n                        shiftElements[k] = \"insertion-\" + shiftElements[k].index\n                    }\n                    \n                    let elementCurPosition = positions[numID].row + \"-\" + positions[numID].col\n\n                    action3.how = [\n                        \"Shift \" + shiftElements + \" \" + sortPosition.row + \"-\" + sortPosition.col,\n                        \"Move separator-insertion \" + sepPosition.row + \"-\" + (sepPosition.col - 1) + \" \" \n                                                    + sepPosition.row + \"-\" + sepPosition.col,\n                        \"Move \" + elementID + \" \" + elementCurPosition + \n                                              \" \" + sortPosition.row + \"-\" + sortPosition.col,\n                        \"Move indicator-insertion \" + (indicatorPosition.row) + \"-\" + (indicatorPosition.col)\n                                                        + \" \" + this.indicatorInitial.row + \"-\" + this.indicatorInitial.col,\n                        \"Sort insertion-\" + sortedIndex\n                    ]\n\n                    if (j > 0) {\n                        action3.how.push(\"Sort insertion-\" + sorted[j - 1].index)\n                    }\n\n                    indicatorPosition.col = this.indicatorInitial.col\n                    indicatorPosition.row = this.indicatorInitial.row\n\n                    positions[numID].row = sortPosition.row\n                    positions[numID].col = sortPosition.col\n\n                    for (let k = j; k < sorted.length; k++) {\n                        positions[sorted[k].index].col++;\n                    }\n\n                    sorted.push({\n                        num: num,\n                        index: numID\n                    })\n\n                    sorted.sort((a, b) => { \n                        return a.num - b.num;\n                    })\n                } else {\n                    action2.desc = \"Seems Like This is Not the Place\"\n                    action2.how = [\"Warn insertion-\" + numID]\n\n                    action3.desc = \"Go to the Next Insertion Point\"\n\n                    let numPosition = positions[numID]\n                    let numPositionFrom = numPosition.row + \"-\" + numPosition.col\n                    numPosition.col++;\n\n                    let newPositionTo = numPosition.row + \"-\" + numPosition.col\n\n                    let indicatorFrom = indicatorPosition.row + \"-\" + indicatorPosition.col\n                    indicatorPosition.col++;\n                    let indicatorTo = indicatorPosition.row + \"-\" + indicatorPosition.col\n\n                    action3.how = [\n                        \"Move \" + elementID + \" \" + numPositionFrom + \" \" + newPositionTo,\n                        \"Move indicator-insertion \" + indicatorFrom + \" \" + indicatorTo,\n                        \"Sort insertion-\" + sortedIndex,\n                        \"Deselect \" + elementID\n                    ]\n\n                    if (j > 0) {\n                        action3.how.push(\"Sort insertion-\" + sorted[j - 1].index)\n                    }\n                }\n                actions.push(action1)\n                actions.push(action2)\n                actions.push(action3)\n                j++\n            }\n            \n            if (!hasSorted) {\n                actions.push({\n                    desc: \"Yeah! We Found the Place\",\n                    \n                    how: [\n                        \"Sort \" + elementID\n                    ]\n                })\n\n                actions.push({\n                    desc: \"Inserting\",\n                    how: [\n                        \"Move separator-insertion \" + sepPosition.row + \"-\" + sepPosition.col + \" \" \n                                                    + sepPosition.row + \"-\" + (sepPosition.col + 1),\n                        \"Move \" + elementID + \" \" + positions[numID].row + \"-\" + positions[numID].col \n                                            + \" \" + (sepPosition.row + 1) + \"-\" + (sepPosition.col + 1),\n                        \"Move indicator-insertion \" + (indicatorPosition.row) + \"-\" + (indicatorPosition.col)  + \" \" \n                                            + this.indicatorInitial.row + \"-\" + this.indicatorInitial.col\n                        \n                    ]\n                })\n                positions[numID].row = (sepPosition.row + 1)\n                positions[numID].col = (sepPosition.col + 1)\n                sepPosition.col++;\n                indicatorPosition.row = this.indicatorInitial.row\n                indicatorPosition.col = this.indicatorInitial.col\n\n                sorted.push({\n                    num: num,\n                    index: numID\n                })\n                sorted.sort((a, b) => {\n                    return a.num < b.num;\n                })\n            }\n        }\n        actions.push({\n            desc: \"Insert Sort Finished\",\n            how: []\n        })\n        return(actions)\n    }\n\n    getInitialPosition(array = this.state.array) {\n        let positionMap = {}\n        for (let i = 0; i < array.length; i++) {\n            positionMap[i] = {\n                row: 2,\n                col: i + 2\n            }\n        } \n        return(positionMap)\n    }\n\n    render() {\n\n        let run = \"Play\"\n        if (this.state.animation) {\n            run = \"Pause\"\n        }\n        return(\n            <div id=\"insertion\" className=\"animationBox\">\n                <div>{this.state.actions[this.state.step].desc}</div>\n                \n                <ButtonGroup >\n\n                <Button variant=\"secondary\" onClick={() => {\n                        if (this.state.step > 0) {\n                            this.setState({\n                                step: this.state.step - 1\n                            })\n                        }\n                }} disabled={this.state.step === 0 || this.state.animation}>Prev</Button>\n\n                <Button variant=\"secondary\" onClick={() => {\n                    if (this.state.step < this.state.actions.length - 1) {\n                        this.setState({\n                            step: this.state.step + 1\n                        })\n                    }\n                }} disabled={this.state.step === this.state.actions.length - 1 || this.state.animation}>Next</Button>\n\n                <Button variant=\"secondary\" onClick={() => {\n                    let newArray = this.generateRandomArray(5, 8);\n                    let newAction = this.getAction(newArray);\n                    this.setState({\n                         array: newArray,\n                         actions: newAction,\n                         step: 0,\n                         setNewArray: true\n                    })\n                }} disabled={this.state.animation}>Generate New Array</Button>\n\n                <Button variant=\"secondary\" onClick={() => {\n                    if (!this.state.animation) {\n                        let animationStep = () => {\n                            this.setState({\n                                animation: window.setInterval(() => {\n                                    if (this.state.step < this.state.actions.length - 1) {\n                                        this.setState({\n                                            step: this.state.step + 1\n                                        })   \n                                    } else {\n                                        window.clearInterval(this.state.animation);\n                                        this.setState({\n                                            animation: false\n                                        })\n                                    }\n                                }, 1200)\n                            })\n                        }\n                        \n                        if (this.state.step === this.state.actions.length - 1) {\n                            this.setState({\n                                step: 0\n                            }, () => {\n                                this.clearViz();\n                                this.initViz();\n                                animationStep();\n                            })\n                        } else {\n                            animationStep();\n                        }\n                    } else {\n                        window.clearInterval(this.state.animation);\n                        this.setState({\n                            animation: false\n                        })\n                    }\n                }}>{run}</Button>\n                </ButtonGroup>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}